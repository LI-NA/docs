(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{159:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return c}));var o=n(3),a=(n(0),n(177));const i={id:"publishing",title:"Publishing",sidebar_label:"Publishing",description:"How to publish an extension for Standard Notes.",keywords:["standard notes","docs","notes app","end-to-end encryption","build an extension","publish an extension"],image:"/img/logo.png",hide_title:!1,hide_table_of_contents:!1},r={unversionedId:"extensions/publishing",id:"extensions/publishing",isDocsHomePage:!1,title:"Publishing",description:"How to publish an extension for Standard Notes.",source:"@site/docs/extensions/publishing.md",slug:"/extensions/publishing",permalink:"/extensions/publishing",editUrl:"https://github.com/standardnotes/docs/edit/main/docs/extensions/publishing.md",version:"current",lastUpdatedAt:1594535914,formattedLastUpdatedAt:"7/11/2020",sidebar_label:"Publishing",sidebar:"technicalSidebar",previous:{title:"Actions",permalink:"/extensions/actions"},next:{title:"Encryption Protocol Specification v004",permalink:"/specification/encryption/"}},l=[{value:"Steps:",id:"steps",children:[{value:"Key Descriptions",id:"key-descriptions",children:[]}]},{value:"Local Installation",id:"local-installation",children:[{value:"To specify the root file of your extension:",id:"to-specify-the-root-file-of-your-extension",children:[]}]},{value:"Autoupdate",id:"autoupdate",children:[]},{value:"Questions?",id:"questions",children:[]}],s={toc:l};function c({components:e,...t}){return Object(a.b)("wrapper",Object(o.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Once you've crafted the code for your extension, you'll need to create a JSON description of your package, so that it can be imported using the Extension manager."),Object(a.b)("p",null,"The JSON description must be hosted on a URL the app can reach out to. In these steps, we'll use Listed to generate a JSON endpoint."),Object(a.b)("h2",{id:"steps"},"Steps:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},'Create a new note in Standard Notes called "my-extension.json", and enter the following as its contents:')),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'---\nmetatype: json\n---\n\n{\n  "identifier": "org.yourdomain.my-markdown-editor",\n  "name": "My Markdown Editor",\n  "content_type": "SN|Component",\n  "area": "editor-editor",\n  "version": "1.0.0",\n  "description": "A fully featured Markdown editor that supports live preview, a styling toolbar, and split pane support.",\n  "url": "https://domain.org/link-to-hosted-extension",\n  "download_url": "https://github.com/sn-extensions/advanced-markdown-editor/archive/1.0.184.zip",\n  "latest_url": "https://listed.to/my-extension-json-link",\n  "marketing_url": "https://standardnotes.org/extensions/advanced-markdown",\n  "thumbnail_url": "https://domain.org/editors/adv-markdown.jpg"\n}\n')),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Head over to ",Object(a.b)("a",{parentName:"p",href:"https://listed.to"},"listed.to"),', and generate an account by clicking "Generate Author Link". Copy that link, then, in the Extensions menu in Standard Notes, click "Import Extension" in the bottom right corner. Paste in your link, and press enter, then accept.')),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},'Back in your "my-extension.json" note, click "Actions" in the menu bar below the note title, then click "Publish to Private Link". Click "Open Private Link" to preview your JSON endpoint.')),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},'In the Extensions window, click "Import Extension", and paste in your JSON endpoint, press Enter, then accept to install your extension.'))),Object(a.b)("h3",{id:"key-descriptions"},"Key Descriptions"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",{parentName:"tr",align:"left"},"Key"),Object(a.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"identifier"),Object(a.b)("td",{parentName:"tr",align:"left"},"A unique, reverse domain style identifier for your extension.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"name"),Object(a.b)("td",{parentName:"tr",align:"left"},"The name of your extension.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"content_type"),Object(a.b)("td",{parentName:"tr",align:"left"},"Generally SN","|","Component, or SN","|","Theme if theme package.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"area"),Object(a.b)("td",{parentName:"tr",align:"left"},"One of ","[","editor-editor, editor-stack, themes, note-tags, tags-list","]")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"version"),Object(a.b)("td",{parentName:"tr",align:"left"},"The current version of your extension. Needs to match the version in your GitHub repo's package.json file.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"description"),Object(a.b)("td",{parentName:"tr",align:"left"},"The description that will be displayed in the Extensions browser.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"url"),Object(a.b)("td",{parentName:"tr",align:"left"},"Used by the web and mobile app. This value is the location of the hosted extension. It must be a link to either an HTML file ","(","for components",")"," or a CSS file ","(","for themes",")",".")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"download_url"),Object(a.b)("td",{parentName:"tr",align:"left"},'Used by the desktop app. Must be a zip file. Caters strongly to GitHub auto-generated release files. The zip file must contain a package.json file with at least a version key. By default, the desktop app will look for an "index.html" in the root directory of the zip file. ',"(","Note that if using GitHub auto-generated zip files, the contents of the zip file are embedded within a folder. The desktop app automatically unnests the folder contents and moves it up one level so it is on the root level.",")",' If your main file is not called index.html, or if it is a CSS file, please see below in "Local Installation" under "To specify the root file of your extension" instructions.')),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"marketing_url"),Object(a.b)("td",{parentName:"tr",align:"left"},'If specified, the Extensions manager will display an "Info" button, which on click, will open a web browser to this location.')),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",{parentName:"tr",align:"left"},"thumbnail_url"),Object(a.b)("td",{parentName:"tr",align:"left"},"The image the Extensions manager will display for your extension.")))),Object(a.b)("h2",{id:"local-installation"},"Local Installation"),Object(a.b)("p",null,"Extensions in Standard Notes desktop support local installation. We recommend using GitHub releases to host your download file."),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},'In your extension repository on GitHub, go to the Releases tab, then click "Draft New Release".')),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},'Click "Publish release" ',"(","you don't need to enter any information",")",'. Standard Notes will use the auto-generated "Source code ',"(","zip",")",'" archive that GitHub generates.')),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},'Right click on "Source code ',"(","zip",")",'", then choose the option to Copy Link Address. Use this value for ',Object(a.b)("inlineCode",{parentName:"p"},"download_url")," in your JSON contents."))),Object(a.b)("p",null,"By default, Standard Notes will look for the ",Object(a.b)("inlineCode",{parentName:"p"},"index.html")," file located in the root of the project. If your main file is not in the root, you can specify a custom path."),Object(a.b)("h3",{id:"to-specify-the-root-file-of-your-extension"},"To specify the root file of your extension:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"In your extension's repository, create a file called ",Object(a.b)("inlineCode",{parentName:"p"},"package.json")," if it does not already exist.")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Add the following entry anywhere in the root level of ",Object(a.b)("inlineCode",{parentName:"p"},"package.json"),":"))),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'...\n  "sn": {\n    "main": "relative/path/to/index.html"\n  },\n...\n')),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"main")," can also be a CSS file if you're publishing a theme."),Object(a.b)("h2",{id:"autoupdate"},"Autoupdate"),Object(a.b)("p",null,"Standard Notes will ping the ",Object(a.b)("inlineCode",{parentName:"p"},"latest_url"),"endpoint automatically to update extensions. For this value, you can use the same JSON endpoint you're using for ",Object(a.b)("inlineCode",{parentName:"p"},"url")," ","(","your ",Object(a.b)("inlineCode",{parentName:"p"},"my-extension.json")," endpoint",")","."),Object(a.b)("h2",{id:"questions"},"Questions?"),Object(a.b)("p",null,"Join the ",Object(a.b)("a",{parentName:"p",href:"https://standardnotes.org/slack"},"Slack group")," and ask away in the ","#","dev channel."))}c.isMDXComponent=!0},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var o=n(0),a=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),p=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=p(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},u=a.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,r=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),b=p(n),u=o,m=b["".concat(r,".").concat(u)]||b[u]||d[u]||i;return n?a.a.createElement(m,l(l({ref:t},c),{},{components:n})):a.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var c=2;c<i;c++)r[c]=n[c];return a.a.createElement.apply(null,r)}return a.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);